# Отчет по лабораторной работе №2

**Выполнил:** Абакунов Кирилл, группа K3340  
**Тема:** реализация сайта на Django (вариант: список отелей / бронирование).

## Что сделано

Сделан веб‑сайт для просмотра отелей и бронирования номеров. Пользователь может зарегистрироваться, войти, выбрать отель и тип номера, оформить бронирование и оставить отзыв. Для администратора предусмотрена стандартная админ‑панель Django.

## Используемые технологии

- Django (см. `requirements.txt`)
- PostgreSQL в Docker Compose
- Шаблоны Django (HTML) + формы Django

## Модель данных (коротко)

- **Hotel** — отель (название, владелец, адрес, описание).
- **RoomType** — тип номера, привязан к отелю (цена, вместимость, список удобств, количество доступных).
- **Reservation** — бронирование пользователя (даты заезда/выезда, статус, связь с типом номера).
- **Review** — отзыв на тип номера (рейтинг 1–10, текст, период проживания).

Связи:
- `Hotel -> RoomType` (один ко многим)
- `RoomType -> Reservation` и `RoomType -> Review` (один ко многим)
- `User -> Reservation` и `User -> Review` (один ко многим)

## Что реализовано в коде

- **Регистрация/логин/логаут** через стандартные механизмы Django (`hotels/views.py`, формы в `hotels/forms.py`).
- **Просмотр данных**: главная страница со списком отелей, страницы отеля и типа номера.
- **Бронирования**: создание, просмотр “моих бронирований”, редактирование и удаление (для `pending`).
- **Отзывы**: добавление отзыва к номеру и отображение на странице номера.
- **Таблица гостей за последний месяц**: отдельная страница со списком постояльцев.

## Основные URL (страницы)

- `/` — список отелей  
- `/register/` — регистрация  
- `/login/` — вход  
- `/logout/` — выход  
- `/hotel/<id>/` — страница отеля  
- `/room/<id>/` — страница типа номера  
- `/room/<id>/reserve/` — создать бронирование  
- `/reservations/` — мои бронирования  
- `/reservation/<id>/edit/` — редактировать бронирование  
- `/reservation/<id>/delete/` — удалить бронирование  
- `/room/<id>/review/` — добавить отзыв  
- `/guests/` — постояльцы за последний месяц  
- `/admin/` — админ‑панель Django

## Запуск (Docker Compose)

```bash
cd lab2
docker-compose up --build
```

По умолчанию сайт доступен на:
- `http://127.0.0.1:8001/`
- `http://127.0.0.1:8001/admin/`

## Тестовые данные

При старте контейнера выполняются миграции, создается суперпользователь и (если база пустая) загружаются демонстрационные данные через management‑команду.

Данные для входа в админку:
- логин: `admin`
- пароль: `admin123`

## Вывод

В результате получился рабочий Django‑проект с моделями данных, пользовательскими сценариями (регистрация, просмотр, бронирование, отзывы) и запуском через Docker Compose с PostgreSQL.

